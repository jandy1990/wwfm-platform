# DosageForm Cost Field Behavior - Visual Guide

## Cost Field Location

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DosageForm Flow                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Dosage + Effectiveness
â”œâ”€â”€ Dose amount: 500
â”œâ”€â”€ Dose unit: mg
â”œâ”€â”€ Frequency: twice daily
â”œâ”€â”€ Length of use: 3-6 months
â”œâ”€â”€ Effectiveness: â­â­â­â­
â””â”€â”€ Time to results: 1-2 weeks
         â”‚
         â”œâ”€â”€> Continue
         â–¼
Step 2: Side Effects
â”œâ”€â”€ â˜‘ None
â”œâ”€â”€ â˜ Nausea
â”œâ”€â”€ â˜ Headache
â””â”€â”€ â˜ Dizziness
         â”‚
         â”œâ”€â”€> Continue
         â–¼
Step 3: Failed Solutions (Optional)
â””â”€â”€ (Can skip)
         â”‚
         â”œâ”€â”€> Submit
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SUCCESS SCREEN                                  â”‚
â”‚         â¬‡ï¸ COST FIELD APPEARS HERE â¬‡ï¸                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€â”€ Brand (optional)
â”œâ”€â”€ Form (optional)
â”œâ”€â”€ Notes (optional)
â””â”€â”€ **COST FIELD** â¬…ï¸ Different behavior per category!
```

---

## Cost Field Behavior by Category

### 1ï¸âƒ£ medications

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’Š Medications                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  Cost? *                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Select cost range...          â–¼ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  Options:                              â”‚
â”‚  â€¢ Free                                â”‚
â”‚  â€¢ I don't remember                    â”‚
â”‚  â€¢ $10-25        â¬…ï¸ ONE-TIME ONLY      â”‚
â”‚  â€¢ $25-50                              â”‚
â”‚  â€¢ $50-100                             â”‚
â”‚  â€¢ $100-200                            â”‚
â”‚  â€¢ $200-500                            â”‚
â”‚  â€¢ Over $500                           â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ NO Monthly/One-time toggle
âœ… Only one-time cost options shown
```

### 2ï¸âƒ£ supplements_vitamins

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’Š Supplements & Vitamins             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Monthly    â”‚  One-time   â”‚ â¬…ï¸     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  TOGGLEâ”‚
â”‚                                        â”‚
â”‚  Cost? *                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Select cost range...          â–¼ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  When "Monthly" selected:              â”‚
â”‚  â€¢ Under $10/month                     â”‚
â”‚  â€¢ $10-25/month                        â”‚
â”‚  â€¢ $25-50/month                        â”‚
â”‚  â€¢ $50-100/month                       â”‚
â”‚                                        â”‚
â”‚  When "One-time" selected:             â”‚
â”‚  â€¢ $10-25                              â”‚
â”‚  â€¢ $25-50                              â”‚
â”‚  â€¢ $50-100                             â”‚
â”‚  â€¢ $100-200                            â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Monthly/One-time toggle visible
âœ… Both cost option types available
```

### 3ï¸âƒ£ natural_remedies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ¿ Natural Remedies                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  Same behavior as supplements_vitamins â”‚
â”‚                                        â”‚
â”‚  âœ… Toggle visible                     â”‚
â”‚  âœ… Both monthly/one-time options      â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4ï¸âƒ£ beauty_skincare

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’„ Beauty & Skincare                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  Same behavior as supplements_vitamins â”‚
â”‚                                        â”‚
â”‚  âœ… Toggle visible                     â”‚
â”‚  âœ… Both monthly/one-time options      â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Code Implementation

### State Initialization

```typescript
// Line 109-111
const [costType, setCostType] = useState<'monthly' | 'one_time' | ''>(
  category === 'medications' ? 'one_time' : ''
  //          â¬†ï¸                   â¬†ï¸          â¬†ï¸
  //      If meds?            Lock to      Others:
  //                          one-time     user picks
);
```

### Toggle Rendering

```typescript
// Line 1054-1076
{category !== 'medications' && (
  //     â¬†ï¸ Hide toggle for medications
  <div className="flex gap-2 mb-2">
    <button onClick={() => setCostType('monthly')}>
      Monthly
    </button>
    <button onClick={() => setCostType('one_time')}>
      One-time
    </button>
  </div>
)}
```

### Dropdown Options

```typescript
// Line 1088-1115
{costType === 'monthly' ? (
  // Monthly options
  <>
    <option value="Under $10/month">Under $10/month</option>
    <option value="$10-25/month">$10-25/month</option>
    ...
  </>
) : (
  // One-time options
  <>
    <option value="$10-25">$10-25</option>
    <option value="$25-50">$25-50</option>
    ...
  </>
)}
```

---

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User fills     â”‚
â”‚  DosageForm     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Submit (Step 3)                â”‚
â”‚  â€¢ Creates solution record      â”‚
â”‚  â€¢ Creates rating record        â”‚
â”‚  â€¢ Creates implementation link  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Success Screen                 â”‚
â”‚  â€¢ Shows cost field             â”‚
â”‚  â€¢ Behavior based on category   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update Solution Fields         â”‚
â”‚  â€¢ cost: "$10-25" or            â”‚
â”‚          "$10-25/month"         â”‚
â”‚  â€¢ dosage_cost_type:            â”‚
â”‚          "monthly" or           â”‚
â”‚          "one_time"             â”‚
â”‚  â€¢ cost_type (legacy):          â”‚
â”‚          "recurring" or         â”‚
â”‚          "one_time"             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Expected Database Values

### medications

```json
{
  "cost": "$10-25",
  "dosage_cost_type": "one_time",
  "cost_type": "one_time"
}
```

### supplements_vitamins (if user selects Monthly)

```json
{
  "cost": "$10-25/month",
  "dosage_cost_type": "monthly",
  "cost_type": "recurring"
}
```

### supplements_vitamins (if user selects One-time)

```json
{
  "cost": "$10-25",
  "dosage_cost_type": "one_time",
  "cost_type": "one_time"
}
```

---

## Testing Checklist

### âœ… medications
- [ ] Cost toggle NOT visible on success screen
- [ ] Cost dropdown shows only one-time options ($10-25, $25-50, etc.)
- [ ] Backend receives `dosage_cost_type: "one_time"`
- [ ] Can submit successfully

### âœ… supplements_vitamins
- [ ] Cost toggle IS visible on success screen
- [ ] Can switch between Monthly and One-time
- [ ] Monthly: Shows monthly options ($10-25/month, etc.)
- [ ] One-time: Shows one-time options ($10-25, etc.)
- [ ] Backend receives correct `dosage_cost_type` based on selection
- [ ] Can submit successfully with both types

### âœ… natural_remedies
- [ ] Same as supplements_vitamins

### âœ… beauty_skincare
- [ ] Same as supplements_vitamins
